# üêß Practical Linux: Commands, Tips, and Admin Tricks (use man <command> to get manual for that command)

---

## üìÅ 1. File and Directory Management

File and directory management is foundational to any Linux administration. Here‚Äôs a breakdown of commonly used tools and all their major option variants:

### ‚úÖ cd, pwd ‚Äì Change & Print Working Directory

```bash
cd                          # go to home directory
cd /path/to/dir             # go to specific path
cd /                        # go to root
cd ..                       # go up one level
cd -                        # switch to previous directory
cd ~user                    # go to user's home
pwd                         # show current directory
```

### ‚úÖ `ls` ‚Äì List Files and Directories

```bash
ls                 # list files
ls -l              # long listing with permissions, ownership, size
ls -lh             # human-readable sizes (e.g. 1K, 234M)
ls -la             # includes hidden files
ls -lt             # sort by modification time
ls -ltr            # reverse time sort
ls -lhS            # sort by size
ls -lhX            # sort by extension
ls -ld */          # list only directories
ls -R              # recursive
ls --color=auto    # enable colors
alias ll='ls -lh'
```

### ‚úÖ `find` ‚Äì File Search

```bash
find /path -name '*.log'                # by name
find / -type f -size +100M              # files over 100MB
find . -mtime -7                        # modified in last 7 days
find . -type d -name "cache"           # find directory named cache
find . -user user1                      # owned by user1
find . -perm 755                       # exact permissions
find . -exec chmod 644 {} \;           # exec command on results
```

### ‚úÖ `locate`, `updatedb` ‚Äì Fast Search

```bash
locate filename.conf
sudo updatedb      # update locate DB
```

### ‚úÖ `du`, `df` ‚Äì Disk Usage

```bash
du -sh folder/                   # total size of folder
du -ah . | sort -hr | head      # top files/dirs by size

df -h                            # human-readable disk space
df -i                            # inode usage
df -hT                           # with filesystem type
```

### ‚úÖ `stat`, `file`, `basename`, `dirname`

```bash
stat filename                   # detailed file info
file binary                     # detect file type
basename /path/to/file.txt      # get filename
dirname /path/to/file.txt       # get directory path
```

### ‚úÖ `mv`, `cp`, `rm`, `rename`

```bash
mv old.txt new.txt              # rename/move
mv file1 dir/                   # move to directory
cp file1 file2                  # copy
cp -r folder1 folder2           # recursive copy
cp -a /src /dst                 # preserve structure and metadata
rm file.txt                     # remove file
rm -rf dir/                     # remove recursively (careful!)
rename 's/.txt/.bak/' *.txt     # batch rename
```

### ‚úÖ `touch`, `mkdir`, `rmdir`

```bash
touch file.txt                  # create file
mkdir new_dir                   # create dir
mkdir -p parent/child           # nested dirs
rmdir empty_dir                 # remove empty dir
```

### ‚úÖ `head`, `tail`, `less`, `more`, `cat`, `wc`, `cut`

```bash
head -n 20 file.txt             # first 20 lines
tail -n 50 file.txt             # last 50 lines
tail -f logfile                 # real-time output
less file                      # page viewer (scrollable)
more file                      # similar to less
cat file.txt                   # dump file
cat -n file.txt                # with line numbers
wc -lwm file.txt               # lines, words, characters
cut -d':' -f1 /etc/passwd       # extract column
```

---

## üî™ 2. User & Permission Management (Explained)

### ‚úÖ User & Group

```bash
adduser user                 # Add user (interactive setup)
passwd user                 # Set or change user password
usermod -aG sudo user       # Add user to 'sudo' group
usermod -d /home/new user   # Change home directory
userdel -r user             # Delete user + home directory
groupadd dev                # Create new group
groupdel dev                # Remove a group
id user                     # Show UID, GID, groups of user
groups user                 # Show all groups user belongs to
```

### ‚úÖ View Users

```bash
whoami                      # Print current username
who                         # List users currently logged in
w                           # Show who is logged in and what they're doing
getent passwd | cut -d: -f1 # List all system users from passwd db
```

### ‚úÖ Ownership & Permissions

```bash
chown user:group file       # Change file ownership
chmod 755 file              # Set full access to owner, read/execute to others
chmod +x script.sh          # Make script executable
chmod u+x file              # Add execute to file owner
chmod g-w file              # Remove write from group
chmod o= file               # Remove all others' permissions
```

### ‚úÖ ACLs

```bash
getfacl file                # Show ACLs of a file
setfacl -m u:user:rw file   # Grant read/write access to user
setfacl -x u:user file      # Remove user's ACL entry
```

### ‚úÖ Sudo & Security

```bash
visudo                      # Safely edit sudo permissions
sudo -l                     # List current user's sudo capabilities
sudo su - user              # Switch to user with root privileges
grep '^sudo' /etc/group     # See users in sudo group
```

### ‚úÖ Logs

```bash
lastlog                     # Show last login of all users
last                        # List login sessions
faillog -u user             # Failed login attempts for user
journalctl -u sshd --since today  # SSH-related log entries today
```

---

## üñ•Ô∏è 3. SSH and Remote Work (Explained)

### ‚úÖ SSH Basics

```bash
ssh user@host                    # SSH into remote machine
ssh -p 2222 user@host            # Connect on custom port 2222
ssh -i ~/.ssh/key user@host     # Use specific SSH private key
ssh -X user@host                 # Enable GUI forwarding (X11)
ssh user@host "uptime"          # Run single command remotely
```

### ‚úÖ SSH Key Auth

```bash
ssh-keygen -t rsa -b 4096        # Generate RSA key pair
ssh-copy-id user@host            # Install public key to remote ~/.ssh/authorized_keys
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys  # Manual key setup
chmod 700 ~/.ssh                 # Secure key dir
chmod 600 ~/.ssh/authorized_keys # Secure authorized key file
```

### ‚úÖ SSH Config

```bash
Host alias                      # Create alias for host
  HostName ip                   # Remote host IP
  User user                     # Default user to login as
  IdentityFile ~/.ssh/id_rsa    # Path to SSH key
ssh alias                       # Connect using alias
```

### ‚úÖ SCP & Rsync

```bash
scp file user@host:/path/        # Copy file to remote host
scp -r dir user@host:/dst/       # Recursively copy directory
rsync -avz file user@host:/dst   # Archive + compress + sync
rsync -azP --delete dir/ user@host:/dst  # Show progress + remove extra files on target
```

### ‚úÖ Tmux/Screen

```bash
tmux new -s session              # Start new Tmux session
tmux attach -t session           # Reconnect to session
screen -S session                # Start new Screen session
screen -r session                # Reconnect to Screen session
```

---

## ‚öñÔ∏è 4. System Monitoring & Performance

```bash
top                     # real-time CPU/mem/process
htop                    # enhanced top
glances                 # cross-resource overview
atop                    # detailed I/O, memory, net

free -m                 # memory in MB
free -h                 # human-readable mem
vmstat 1 5              # system performance
lscpu                   # CPU info
mpstat -P ALL 1         # per-core usage

ps aux                  # all processes
ps -eo pid,%cpu,%mem,cmd --sort=-%mem | head
uptime                  # load + uptime
cat /proc/loadavg       # system load avg

iostat -xz 1            # disk I/O stats
iotop                   # real-time I/O per process
sar -d 1 3              # I/O activity over time

who                     # logged in users
w                       # who + what they're doing
users                   # currently logged usernames
```

---

## üì° 5. Networking Commands

```bash
ip a                    # show interfaces + IPs
ip link show            # interface status
ip route show           # routing table
ip -s link              # interface stats

ping -c 4 host          # ICMP connectivity
traceroute host         # path to host
mtr host                # combined ping+trace
dig domain.com          # DNS query
nslookup domain.com     # DNS lookup

ss -tuln                # listening ports
ss -antp                # TCP connections + PID
netstat -plntu          # legacy port listing
lsof -i :22             # who uses port 22

iftop                   # bandwidth per host
vnstat                  # traffic summary
nethogs                 # bandwidth per process
tcpdump -i eth0         # packet capture

nmap -sS -p- host       # TCP SYN scan all ports
nmap -A host            # aggressive scan

curl -I http://site.com # HTTP headers
wget http://file.url    # download file
scp file user@host:/dst # copy via SSH
rsync -avz file host:/  # efficient sync
```

---

## üì¶ 6. Package Management

### Debian/Ubuntu (`apt`, `dpkg`)

```bash
apt update && apt upgrade     # update & upgrade
apt install pkg               # install pkg
apt remove pkg                # uninstall pkg
apt purge pkg                 # remove + config
apt search keyword            # search pkg
apt list --installed          # list all pkgs
apt show pkg                  # pkg details

dpkg -i pkg.deb               # install .deb file
dpkg -r pkg                   # remove pkg
```

### RHEL/CentOS/Fedora (`yum`, `dnf`, `rpm`)

```bash
yum update                    # update system
yum install pkg               # install pkg
yum remove pkg                # remove pkg
yum search term               # search packages
yum list installed            # installed list

dnf install pkg               # same as yum (modern)
rpm -ivh file.rpm             # install rpm manually
rpm -qa                       # query all pkgs
rpm -e pkg                    # erase pkg
```

### Arch Linux (`pacman`)

```bash
pacman -Syu                  # update system
pacman -S pkg                # install pkg
pacman -R pkg                # remove pkg
pacman -Ss keyword           # search pkg
pacman -Qi pkg               # info
pacman -Qdtq | pacman -Rns - # remove orphans
```

### Snap & Flatpak (Universal)

```bash
snap install pkg             # snap install
snap list                    # list snaps
snap remove pkg              # uninstall snap

flatpak install flathub pkg  # install via Flatpak
flatpak list                 # list flatpaks
flatpak uninstall pkg        # remove flatpak
```

---

## üìú 7. Logs and Audit

### ‚úÖ Journalctl ‚Äì Modern Logging (systemd)

```bash
journalctl                     # all logs
journalctl -xe                # last errors with details
journalctl -f                 # follow like tail -f
journalctl --since today      # today's logs
journalctl -u sshd            # ssh service logs
journalctl _PID=1234          # logs from specific process
journalctl --disk-usage       # log space usage
```

### ‚úÖ Classic Log Files (syslog-style)

```bash
tail -f /var/log/syslog       # live system logs (Ubuntu)
tail -f /var/log/messages     # CentOS/RHEL equivalent
less /var/log/auth.log        # login/auth events
cat /var/log/secure           # auth log in RHEL/CentOS
less /var/log/kern.log        # kernel messages
dmesg                         # hardware boot log
```

### ‚úÖ Auditd ‚Äì Advanced Audit System

```bash
auditctl -s                   # check audit daemon status
auditctl -l                   # list audit rules
ausearch -x sudo              # sudo command audit logs
ausearch -ua user             # user activity logs
aureport -x                   # executed commands summary
aureport -au                  # auth attempts summary
```

---

## ‚è±Ô∏è 8. Cron ‚Äì Scheduled Tasks

### ‚úÖ Crontab Syntax

```bash
# * * * * * /command/to/run
# ‚î¨ ‚î¨ ‚î¨ ‚î¨ ‚î¨
# ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ
# ‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ day of week (0-6, Sun=0)
# ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ month (1-12)
# ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ day (1-31)
# ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ hour (0-23)
# ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ minute (0-59)
```

### ‚úÖ Crontab Commands

```bash
crontab -e              # edit current user‚Äôs crontab
crontab -l              # list user‚Äôs jobs
crontab -r              # remove crontab
crontab -u user -l      # list another user's crontab (as root)
```

### ‚úÖ Common Jobs

```bash
0 0 * * * /backup.sh              # every midnight
*/10 * * * * /check.sh            # every 10 min
@reboot /startup.sh              # at system boot
0 3 * * 1 /weekly.sh              # Mondays at 3 AM
```

### ‚úÖ System-wide Cron

```bash
/etc/crontab                     # system crontab
/etc/cron.d/                    # custom cron files
/etc/cron.daily/                # auto-run daily
/etc/cron.hourly/               # every hour
```

---

## ‚öôÔ∏è 9. Process Management

### ‚úÖ Listing & Inspecting

```bash
ps aux                          # all processes
ps -ef                          # standard format
top                             # dynamic process monitor
htop                            # enhanced top (if installed)
pidof nginx                     # get PID
pgrep sshd                      # PID by name
```

### ‚úÖ Killing Processes

```bash
kill 1234                       # send SIGTERM
kill -9 1234                    # force kill (SIGKILL)
pkill nginx                     # kill by process name
pkill -f pattern                # match full command line
xkill                           # GUI window kill
```

### ‚úÖ Controlling Execution

```bash
nice -n 10 command              # set low priority
renice -n 5 -p 1234             # adjust existing process
fg                              # foreground a paused job
bg                              # resume in background
jobs                            # list background jobs
```

### ‚úÖ Monitoring Specific Apps

```bash
watch -n 2 "ps aux | grep apache"  # repeat monitor
strace -p 1234                     # trace syscalls
lsof -p 1234                       # open files by PID
```

---

## üõ†Ô∏è 10. Useful Utilities

### ‚úÖ Archiving & Compression

```bash
tar -czf archive.tar.gz folder/     # compress folder
tar -xzf archive.tar.gz             # extract archive
zip -r folder.zip folder/           # zip a folder
unzip archive.zip                   # unzip
gzip file.txt                       # compress file
gunzip file.txt.gz                  # decompress
```

### ‚úÖ Disk & Filesystem

```bash
df -h                               # disk space
du -sh folder/                      # folder size
mount | column -t                  # show mounts
mount /dev/sdb1 /mnt               # mount device
umount /mnt                        # unmount
lsblk                               # block devices
blkid                               # list block UUIDs
```

### ‚úÖ Text & Data Tools

```bash
grep 'error' file.log              # search in file
sed 's/old/new/g' file             # find and replace
awk '{print $1}' file.txt          # extract column
cut -d: -f1 /etc/passwd            # split lines
sort file.txt | uniq               # sort & remove dups
diff file1 file2                   # compare files
```

### ‚úÖ Disk & ISO Tools

```bash
dd if=/dev/sda of=/image.img bs=4M    # backup disk
dd if=image.img of=/dev/sdX bs=4M     # restore image
mount -o loop image.iso /mnt         # mount ISO
```

### ‚úÖ System Info

```bash
uname -a                           # kernel info
hostnamectl                        # set/get hostname
uptime                             # load & uptime
lsb_release -a                     # distro info (Debian)
```

### ‚úÖ Networking Helpers

```bash
ip a                               # IP address info
hostname -I                        # local IP
curl ifconfig.me                   # public IP
```

---

## üóÑÔ∏è 11. File Systems and Mounting

### ‚úÖ View Disks and Mounts

```bash
lsblk                          # list block devices
blkid                          # get UUID, type
mount                          # show mounts
findmnt                        # hierarchical view
df -hT                         # disk usage + type
```

### ‚úÖ Mount / Unmount

```bash
mount /dev/sdX1 /mnt           # mount manually
umount /mnt                    # unmount
mount -o ro /dev/sdX1 /mnt     # mount read-only
mount -t ext4 /dev/sdX1 /mnt   # specify fs type
```

### ‚úÖ Fstab ‚Äì Persistent Mounts

```bash
cat /etc/fstab
UUID=xxxx  /mnt/data  ext4  defaults  0  2
```

### ‚úÖ Format Disks

```bash
mkfs.ext4 /dev/sdX1            # format ext4
mkfs.xfs /dev/sdX1             # format XFS
mkfs.vfat /dev/sdX1            # format FAT32
```

### ‚úÖ Swap Management

```bash
swapon --show                  # active swap
free -h                        # check memory/swap
mkswap /swapfile
swapon /swapfile
```

---

## üõ°Ô∏è 12. Security & Hardening

### ‚úÖ User & SSH Access

```bash
sudo visudo                     # secure sudo config
usermod -L user                 # lock user
passwd -l user                  # lock password
vi /etc/ssh/sshd_config         # edit SSH settings
PermitRootLogin no
PasswordAuthentication no
systemctl reload sshd
```

### ‚úÖ Firewall (UFW / iptables)

```bash
ufw enable
ufw allow 22/tcp
ufw deny 23
ufw status verbose

iptables -L                    # list rules
iptables -A INPUT -p tcp --dport 22 -j ACCEPT
```

### ‚úÖ File Integrity & Permissions

```bash
ls -l                          # review permissions
chmod 700 ~/.ssh               # restrict SSH dirs
getfacl /etc/shadow            # check access
```

### ‚úÖ Security Scanners

```bash
chkrootkit                    # check rootkits
rkhunter --check              # check malware
lynis audit system            # system audit
```

### ‚úÖ SELinux / AppArmor

```bash
getenforce                    # SELinux mode
setenforce 0                  # set permissive
aa-status                     # AppArmor profiles
```

---

## üß† 13. Bash Scripting

### ‚úÖ Script Template

```bash
#!/bin/bash
set -e                         # stop on error
echo "Running: $0"
```

### ‚úÖ Arguments & Input

```bash
echo "First arg: $1"
read -p "Enter value: " var
```

### ‚úÖ Logic & Flow

```bash
if [[ "$var" == "yes" ]]; then
  echo "Confirmed"
fi

for f in *.txt; do
  echo "$f"
done

while read line; do
  echo "$line"
done < file.txt
```

### ‚úÖ Variables & Arrays

```bash
name="DJ"
arr=(one two three)
echo ${arr[1]}
```

### ‚úÖ Functions & Return

```bash
myfunc() {
  echo "Running func"
  return 0
}
myfunc
```

### ‚úÖ Useful Built-ins

```bash
$(command)         # capture output
$?                 # exit status
$0, $1, $#, $@     # script metadata
```

---
