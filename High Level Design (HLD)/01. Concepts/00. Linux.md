# 🐧 Practical Linux for Organizations: Commands, Tips, and Admin Tricks (Expanded Edition)

This guide is tailored for professionals and system administrators working in an enterprise environment. It focuses on **practical Linux commands, tools, scripts, tips, and tricks** rather than theory, with a goal to enhance productivity, maintainability, and security across production systems.

---

## 📁 1. File and Directory Management

```bash
# List files with human-readable sizes
ls -lh

# Recursively list directories in a tree-like format
ls -R | grep :

# Find large files over 100MB
find / -type f -size +100M -exec ls -lh {} \;

# Search files by name
find /path/to/search -name "*.log"

# Disk usage of directories, sorted
du -h --max-depth=1 | sort -hr

# Display file types
type file

# Rename multiple files using rename command
rename 's/.txt/.bak/' *.txt
```

---

## 🔧 2. System Monitoring and Performance

```bash
# CPU and Memory usage
htop

# Top 10 processes by memory
ps aux --sort=-%mem | head

# Real-time disk I/O
iotop

# Network usage
iftop

# Who is logged in
who

# System uptime and load average
uptime

# Watch top processes live
watch -n 1 'ps aux --sort=-%mem | head'

# Check memory details
free -m
```

---

## 📡 3. Networking Commands

```bash
# Show all interfaces
ip a

# Show routing table
ip route

# Test connectivity
ping google.com

# DNS lookup
nslookup example.com

# Trace route to a host
traceroute google.com

# View open ports and listening services
ss -tuln

# Network statistics
netstat -antp

# Port scanning (requires nmap)
nmap -sS -p- <IP>
```

---

## 📦 4. Package Management

### Debian/Ubuntu:

```bash
apt update && apt upgrade
apt install package-name
apt remove package-name
apt-cache search keyword
```

### RHEL/CentOS:

```bash
yum update
yum install package-name
yum remove package-name
yum search keyword
```

---

## 🛡️ 5. User & Permission Management

```bash
# Add user and set password
adduser username
passwd username

# Add user to a group
usermod -aG groupname username

# View current user
whoami

# List users
cut -d: -f1 /etc/passwd

# Change ownership of file
chown user:group file.txt

# Modify file permissions
chmod 755 script.sh

# Recursive ownership change
chown -R user:group directory/
```

---

## 📋 6. Log & Audit

```bash
# Tail logs in real-time
tail -f /var/log/syslog
tail -f /var/log/messages

# View systemd journal logs
journalctl -xe

# Search logs
grep "error" /var/log/syslog

# View auth logs
cat /var/log/auth.log

# Count failed logins
grep "Failed password" /var/log/auth.log | wc -l
```

---

## 🧰 7. Useful Utilities

```bash
# Compress files
tar -czvf archive.tar.gz folder/

# Decompress
 tar -xzvf archive.tar.gz

# View disk space
 df -h

# View inodes
 df -i

# Sync filesystem to avoid data loss
sync

# Compare files
diff file1 file2

# Count lines, words, characters
wc -lwm filename
```

---

## 🖥️ 8. SSH and Remote Work

```bash
# SSH into a server
ssh user@hostname

# Run command remotely
ssh user@host "uptime"

# Copy files between servers
scp file user@remote:/path

# Use rsync for large directory syncs
rsync -avz /src user@host:/dst

# Set up key-based authentication
ssh-keygen -t rsa
ssh-copy-id user@host
```

---

## ⏱️ 9. Scheduled Tasks (cron)

```bash
# Edit user’s crontab
crontab -e

# Format: minute hour day month day-of-week command
0 2 * * * /path/to/backup.sh

# List cron jobs
crontab -l

# Cron logs
cat /var/log/syslog | grep CRON
```

---

## 🔐 10. Security & Hardening

```bash
# Check last login attempts
lastlog

# List sudo users
grep '^sudo:.*$' /etc/group

# Fail2ban (ban IPs after failed login)
systemctl status fail2ban

# UFW (firewall for Ubuntu)
sudo ufw enable
sudo ufw allow ssh
sudo ufw status

# Set up firewall with iptables
iptables -L -v
```

---

## 🧪 11. Bash Scripting Tips

```bash
# Loop over files
for file in *.log; do
  echo "Processing $file"
  gzip "$file"
done

# Check if file exists
if [ -f "/etc/passwd" ]; then
  echo "File exists"
fi

# Catch errors
command || echo "Command failed"

# Log script output to file
exec > >(tee -i logfile.txt)
exec 2>&1
```

---

## 📎 12. Process Management

```bash
# List all processes
ps aux

# Kill process by PID
kill -9 1234

# Kill process by name
pkill -f process_name

# Background job control
bg
fg
jobs

# Restart a service
systemctl restart sshd
```

---

## 🛠️ 13. File Systems and Mounting

```bash
# List mounted filesystems
mount | column -t

# Mount a device
mount /dev/sdb1 /mnt/data

# Unmount
umount /mnt/data

# Check filesystem usage
df -hT

# Check and repair filesystem
fsck /dev/sdb1
```

---

## 📚 14. Cheatsheets and Resources

- TLDR pages: `tldr tar`
- `cheat` command
- `bropages`
- ServerFault, Stack Overflow
- `man`, `info`, `--help`
- LinuxCommand.org
- BashHackers.org

---

## 🏁 15. Final Tips for Admins

- Use aliases for speed: `alias ll='ls -lh'`
- Log everything: `script session.log`
- Use tmux or screen for safe remote sessions
- Automate repetitive tasks with cron or systemd timers
- Use Ansible for configuration management
- Use auditd for detailed event auditing
- Back up `/etc`, `/var`, and DB dumps regularly

---

## 🧠 16. Troubleshooting and Recovery

```bash
# Dmesg logs for kernel events
dmesg | tail -20

# Reboot system
reboot

# Shutdown system
shutdown -h now

# Safe-mode/root shell: init=/bin/bash in GRUB
```

---

## 🧭 17. Tools You Should Learn

- **tmux**: Terminal multiplexer
- **strace**: Trace system calls
- **lsof**: List open files
- **ncdu**: Disk usage visualizer
- **glances**: System monitor
- **bpytop/btop**: Modern performance UI
- **tcpdump**: Packet analyzer

---

## 📘 Conclusion

Linux in the enterprise is about reliability, repeatability, and automation. Mastering these command-line tools and techniques gives you a major edge in real-world system management. This guide is your quick-access arsenal to solve problems, enhance uptime, and maintain secure, performant servers. Let me know if you want sections added on containers, SELinux, or high-availability setups.
